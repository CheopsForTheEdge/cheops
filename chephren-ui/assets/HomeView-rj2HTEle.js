import{B as T}from"./ButtonComponent-psMr_FlM.js";import{L as b}from"./nodesUrl.store-PYa8P4uy.js";import{N as $,S as i,u as w}from"./nodes.store-yGROBZVh.js";import{d as k,c as L,r as B,o as t,a as o,b as s,t as u,F as l,e as m,u as g,f as v,w as N,g as p,n as V,_ as C,m as F,h as x,i as O,j as I,k as R,l as E}from"./index-KEx3fXyj.js";import{R as D}from"./RightPanelComponent-WYodSY_J.js";import{S as K}from"./SearchInput-bSK_GQPt.js";const j={class:"node-header"},q={class:"node-content"},z={class:"address"},H={class:"nb-resources"},U=k({__name:"NodeCard",props:{node:{type:$,required:!0}},setup(e){const r=e,n=L(()=>{switch(r.node.state){case i.OFFLINE:return"offline";case i.ONLINE:return"online";case i.STARTING:return"starting";default:return"OSKOUR"}});return(f,d)=>{const _=B("router-link");return t(),o("div",{class:V(["node",e.node.state])},[s("div",j,[s("div",null,u(e.node.name),1),s("div",null,u(n.value),1)]),s("div",q,[e.node.loading?(t(),p(b,{key:1})):(t(),o(l,{key:0},[s("div",z,u(e.node.address),1),s("div",H,[e.node.resourcesCount?(t(),o(l,{key:0},[m(u(e.node.resourcesCount)+" ressource(s) ",1)],64)):e.node.state!==g(i).UNKNOWN&&e.node.state!==g(i).OFFLINE?(t(),o(l,{key:1},[m(" No ressource on this node ")],64)):(t(),o(l,{key:2},[m("We don't know ðŸ™‚")],64))]),v(_,{to:{name:"node",params:{id:e.node.id??-1}}},{default:N(()=>[m(" View ")]),_:1},8,["to"])],64))])],2)}}}),W=C(U,[["__scopeId","data-v-03f737ed"]]),A=["path"],G=k({__name:"TagComponent",props:{tag:{type:String,required:!0}},emits:["delete"],setup(e,{emit:r}){const n=e,f=r,d=()=>{f("delete",n.tag)};return(_,y)=>(t(),o("div",{onClick:d},[s("span",null,u(e.tag),1),s("svg-icon",{type:"mdi",path:g(F)},null,8,A)]))}}),M=C(G,[["__scopeId","data-v-0c7595a8"]]),P={class:"page"},J={class:"page-content"},Q=["path"],X={class:"node-container"},Y={class:"search-container"},Z={class:"tags"},ee=k({__name:"HomeView",setup(e){const r=w(),n=x([]),f=L(()=>r.filteredNodes(n.value)),d=x(!1),_=a=>{n.value.includes(a)||(n.value=[...n.value,a])},y=a=>{n.value=n.value.filter(h=>h!==a)},S=a=>{d.value=!0,r.fetchNodes(a).then(()=>{d.value=!1})};return O(()=>{S(!1)}),(a,h)=>(t(),o("div",P,[s("div",J,[v(T,{class:"refresh-button",onClick:h[0]||(h[0]=c=>S(!0))},{default:N(()=>[m(" Refresh data "),s("svg-icon",{type:"mdi",path:g(E)},null,8,Q)]),_:1}),s("div",X,[(t(!0),o(l,null,I(f.value,c=>(t(),p(W,{key:c.id,node:c},null,8,["node"]))),128))]),d.value?(t(),p(b,{key:0,style:{justifyContent:"flex-start",paddingTop:"5rem",zIndex:"8"},label:"Loading nodes"})):R("",!0)]),v(D,null,{default:N(()=>[s("div",Y,[v(K,{label:"Search node",onSearch:_,"clear-on-validation":!0}),s("div",Z,[(t(!0),o(l,null,I(n.value,c=>(t(),p(M,{key:c,tag:c,onDelete:y},null,8,["tag"]))),128))])])]),_:1})]))}}),de=C(ee,[["__scopeId","data-v-fa7bedb2"]]);export{de as default};
